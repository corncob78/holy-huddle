<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Holy Huddle</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
</head>
<body>

  <div id="huddle-form">
    <h1>Holy Huddle<br><span style="font-size:0.8em;">Create Your Session</span></h1>

    <div class="view-toggle" style="text-align: right; margin-bottom: 10px;">
      <button id="toggle-view-btn" style="font-size: 12px; padding: 4px 8px;">Full View</button>
    </div>

    <div id="loading" class="loading">Loading books…</div>

    <!-- MEETING SETUP -->
    <div class="form-row">
      <label>Huddle Name:</label>
      <input type="text" id="huddle-name" placeholder="e.g. Tuesday Night Study" required>
    </div>

    <div class="form-row">
      <label>Host Name:</label>
      <input type="text" id="host-name" placeholder="Your Name">
    </div>

    <div class="form-row">
      <label>Gathering Date/Time:</label>
      <input type="date" id="gathering-date">
      <input type="time" id="gathering-time" step="900" value="19:00">
      <span id="formatted-datetime"></span>
    </div>

    <div class="form-row">
      <label>Gathering Duration:</label>
      <select id="duration-select">
        <option value="15">15 minutes</option>
        <option value="30">30 minutes</option>
        <option value="45">45 minutes</option>
        <option value="60">1 hour</option>
        <option value="75">1 hour 15 minutes</option>
        <option value="90">1 hour 30 minutes</option>
        <option value="105">1 hour 45 minutes</option>
        <option value="120">2 hours</option>
        <option value="180">3 hours</option>
        <option value="240">4 hours</option>
        <option value="300">5 hours</option>
        <option value="360">6 hours</option>
        <option value="420">7 hours</option>
        <option value="480">8 hours</option>
      </select>
    </div>

    <div class="form-row full-width">
      <label>Holy Huddle Gameplan:</label>
      <div id="description-editor" class="editor"></div>
      <div id="description-fallback" style="display:none;">
        <textarea id="description" placeholder="Plain text fallback…"></textarea>
      </div>
    </div>

    <hr class="divider">

    <!-- BOOK LIST -->
    <h2>Booklist</h2>
    <h3>Old Testament</h3>
    <div id="ot-grid" class="book-grid"></div>
    <h3>New Testament</h3>
    <div id="nt-grid" class="book-grid"></div>

    <div class="button-row">
      <button id="select-all-btn">Select All</button>
      <button id="clear-all-btn">Clear All</button>
    </div>

    <div class="submit-row">
      <button id="create-btn" disabled>Create Link</button>
    </div>

    <div id="session-link" class="link-output"></div>
  </div>

  <div id="toast"></div>

  <script src="js/create-session.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').catch(() => {});
    }
  </script>
</body>
</html>